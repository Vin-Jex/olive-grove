import React, { useEffect, useRef, useState } from 'react';
import { Class, ClassOutlined, Close, Logout, Menu } from '@mui/icons-material';
import { useRouter } from 'next/router';
import Link from 'next/link';
import Image from 'next/image';
import Logo from '@/public/image/logo.png';
import { useSidebarContext } from '@/contexts/SidebarContext';
import { useAuth } from '@/contexts/AuthContext';

type NavItemProps = {
  href: string;
  activeClass: string;
  setActiveClass: React.Dispatch<React.SetStateAction<string>>;
  label: string;
  icon: JSX.Element;
  activeIcon: JSX.Element;
};
// isSidenavOpen;
const SideNav: React.FC<{ isOpen: boolean; handleOpen: () => void }> = ({
  isOpen,
  handleOpen,
}) => {
  const { active, setActive } = useSidebarContext();
  const router = useRouter();
  const [activeClass, setActiveClass] = useState<string>(
    router.pathname.split('/')[1]
  );
  const navRef = useRef<HTMLDivElement>(null);
  const [isClient, setIsClient] = useState<boolean>(false);
  const { user } = useAuth();
  const role = user?.role;

  useEffect(() => {
    setIsClient(true);
  }, []);

  const toggleClass = () => {
    setActive(!active);
  };

  useEffect(() => {
    const baseRoute = router.pathname.split('/')[2];
    setActiveClass(baseRoute);
  }, [router.pathname]);

  useEffect(() => {
    const handleResize = () => {
      if (window.innerWidth <= 768) {
        setActive(true);
      }
    };
    handleResize();
    window.addEventListener('resize', handleResize);
    return () => {
      window.removeEventListener('resize', handleResize);
    };
  }, [setActive]);

  return (
    <div
      className={`lg:block transition-transform transform flex-col h-full w-full`}
    >
      {/* <div className={`sidebar-nav ${active && 'active'}`} ref={navRef}> */}
      <div className={`sidebar-nav active`} ref={navRef}>
        <div className='flex justify-between items-center'>
          <Image
            onClick={() => {
              window.scrollTo(0, 0);
              router.push('/');
            }}
            src={Logo}
            alt='Logo'
            className={`w-14 h-14 ml-4 cursor-pointer object-cover transition-all ease-in-out duration-500 ${
              // active ? 'flex' : 'hidden'
              `flex`
            }`}
          />

          {/* {isOpen && (
            <Close
              sx={{ color: '#fff', cursor: 'pointer' }}
              id='btn-bars'
              onClick={handleOpen}
              className='transition-all ease-in-out duration-500 hidden lg:flex'
            />
          )} */}

          {/* {active ? (
            <Close
              sx={{ color: '#fff', cursor: 'pointer' }}
              id='btn-bars'
              onClick={toggleClass}
              className='transition-all ease-in-out duration-500 hidden lg:flex'
            />
          ) : (
            <Menu
              onClick={toggleClass}
              id='btn-bars'
              sx={{ fontSize: '1rem', cursor: 'pointer' }}
              className='transition-all ease-in-out duration-500  hidden lg:flex'
            />
          )} */}
        </div>

        <ul className='nav_list space-y-3.5 md:space-y-6 flex-1'>
          <NavItem
            href={`${
              isClient && role === 'Teacher'
                ? '/teachers'
                : role === 'Student'
                ? '/students'
                : role === 'Admin'
                ? '/admins'
                : ''
            }/dashboard`}
            activeClass={activeClass}
            setActiveClass={setActiveClass}
            activeIcon={
              <svg
                xmlns='http://www.w3.org/2000/svg'
                className='h-6 w-6'
                viewBox='0 0 24 24'
                fill='none'
              >
                <path
                  d='M11.6 11C11.6 10.448 11.152 10 10.6 10C8.945 10 5.655 10 4 10C3.448 10 3 10.448 3 11V20C3 20.552 3.448 21 4 21H10.6C11.152 21 11.6 20.552 11.6 20C11.6 17.908 11.6 13.092 11.6 11ZM21 17C21 16.448 20.552 16 20 16H14C13.462 16 13 16.477 13 17V20C13 20.552 13.448 21 14 21H20C20.552 21 21 20.552 21 20V17ZM21 4C21 3.448 20.552 3 20 3C18.463 3 15.537 3 14 3C13.448 3 13 3.448 13 4V13.6C13 14.152 13.448 14.6 14 14.6H20C20.552 14.6 21 14.152 21 13.6C21 11.406 21 6.194 21 4ZM11.6 4C11.6 3.448 11.152 3 10.6 3C8.945 3 5.655 3 4 3C3.448 3 3 3.448 3 4V7.6C3 8.152 3.448 8.6 4 8.6H10.6C11.152 8.6 11.6 8.152 11.6 7.6C11.6 6.583 11.6 5.017 11.6 4Z'
                  fill='#FDFDFD'
                />
              </svg>
            }
            label='dashboard'
            icon={
              <svg
                xmlns='http://www.w3.org/2000/svg'
                className='h-6 w-6'
                viewBox='0 0 18 18'
                fill='none'
              >
                <path
                  d='M8.6 8C8.6 7.448 8.152 7 7.6 7C5.945 7 2.655 7 1 7C0.448 7 0 7.448 0 8V17C0 17.552 0.448 18 1 18H7.6C8.152 18 8.6 17.552 8.6 17C8.6 14.908 8.6 10.092 8.6 8ZM18 14C18 13.448 17.552 13 17 13H11C10.462 13 10 13.477 10 14V17C10 17.552 10.448 18 11 18H17C17.552 18 18 17.552 18 17V14ZM16.5 14.5V16.5H11.5V14.5H16.5ZM7.1 8.5V16.5H1.5V8.5H7.1ZM18 1C18 0.448 17.552 0 17 0C15.463 0 12.537 0 11 0C10.448 0 10 0.448 10 1V10.6C10 11.152 10.448 11.6 11 11.6H17C17.552 11.6 18 11.152 18 10.6C18 8.406 18 3.194 18 1ZM16.5 1.5V10.1H11.5V1.5H16.5ZM8.6 1C8.6 0.448 8.152 0 7.6 0C5.945 0 2.655 0 1 0C0.448 0 0 0.448 0 1V4.6C0 5.152 0.448 5.6 1 5.6H7.6C8.152 5.6 8.6 5.152 8.6 4.6C8.6 3.583 8.6 2.017 8.6 1ZM7.1 1.5V4.1H1.5V1.5H7.1Z'
                  fill='#1E1E1E90'
                />
              </svg>
            }
          />

          {isClient && role !== 'Admin' && (
            <NavItem
              href={`${
                isClient && role === 'Teacher'
                  ? '/teachers'
                  : role === 'Student'
                  ? '/students'
                  : ''
              }/lectures`}
              activeClass={activeClass}
              setActiveClass={setActiveClass}
              activeIcon={
                <svg
                  xmlns='http://www.w3.org/2000/svg'
                  className='h-6 w-6'
                  viewBox='0 0 24 24'
                  fill='none'
                >
                  <g clipPath='url(#clip0_1_1299)'>
                    <path
                      fillRule='evenodd'
                      clipRule='evenodd'
                      d='M22.298 24H16.829C16.647 21.713 14.936 19.689 13.399 18.059C13.132 17.776 13 17.448 13 17.151C13 16.613 13.415 16.172 14.105 16.277C14.767 16.378 15.479 17.038 15.735 17.31V12.135C15.735 11.508 16.238 11 16.829 11C17.42 11 17.923 11.508 17.923 12.135V14.726C17.923 15.18 18.368 15.239 18.425 14.785C18.543 13.855 19.803 13.731 19.899 15.017C19.922 15.333 20.295 15.397 20.373 15.032C20.551 14.195 21.74 14.187 21.881 15.472C21.917 15.808 22.316 15.876 22.344 15.492C22.372 15.104 22.499 14.951 22.677 14.951C23.277 14.951 23.939 16.121 23.939 17.508C23.939 20 22.298 20.006 22.298 24ZM12.5 2.414C15.433 0.797 19.669 0.132 24 0V13.644L19.822 12.465C19.822 12.32 19.822 11.974 19.808 11.83C19.668 10.411 18.513 9.132 16.829 9.1C15.1 9.148 13.963 10.403 13.838 11.982C13.833 12.191 13.835 14.148 13.835 14.364C12.736 14.364 11.613 15.067 11.228 16.299C11.018 16.977 11.074 17.713 11.354 18.363C11.655 19.061 12.049 19.383 12.56 19.951C11.924 20.064 11.265 19.983 10.667 19.71C7.795 18.395 3.937 17.835 0 17.715V0C4.331 0.132 8.568 0.797 11.5 2.414V13L12.5 12.517V2.414ZM3 12.731C5.086 13.043 7.451 13.755 9 14.404V13.34C7.332 12.718 5.119 12.025 3 11.714V12.731ZM3 10.7C5.086 11.012 7.451 11.723 9 12.372V11.309C7.332 10.687 5.119 9.993 3 9.683V10.7ZM3 8.669C5.086 8.98 7.451 9.692 9 10.342V9.278C7.332 8.656 5.119 7.962 3 7.652V8.669ZM3 6.638C5.086 6.949 7.451 7.661 9 8.31V7.246C7.332 6.624 5.119 5.931 3 5.62V6.638ZM21 5.62C18.881 5.931 16.668 6.624 15 7.246V8.31C16.549 7.661 18.914 6.949 21 6.638V5.62ZM3 3.579C5.119 3.889 7.332 4.583 9 5.205V6.269C7.451 5.619 5.086 4.908 3 4.596V3.579ZM21 4.596C18.914 4.908 16.549 5.619 15 6.269V5.205C16.668 4.583 18.881 3.889 21 3.579V4.596Z'
                      fill='#FDFDFD'
                    />
                  </g>
                  <defs>
                    <clipPath id='clip0_1_1299'>
                      <rect width='24' height='24' fill='white' />
                    </clipPath>
                  </defs>
                </svg>
              }
              label='lectures'
              icon={
                <svg
                  xmlns='http://www.w3.org/2000/svg'
                  className='h-6 w-6'
                  viewBox='0 0 20 20'
                  fill='none'
                >
                  <g clipPath='url(#clip0_1_1520)'>
                    <path
                      fillRule='evenodd'
                      clipRule='evenodd'
                      d='M14.2925 7.94833C15.3858 7.99083 16.225 8.86833 16.2408 9.99333V10.9317C16.5608 10.9967 17.7125 11.2317 18.0233 11.3042C19.3767 11.6517 19.9958 12.71 19.9908 14.0775C19.9817 15.42 19.4117 16.0842 19.0475 16.9175C18.8325 17.4275 18.755 17.8433 18.7417 18.3967L18.7408 20H13.14C13.1433 19.365 13.0692 18.5458 12.8025 17.9692C12.445 17.1917 11.6567 16.5117 10.7525 15.5392C10.0817 14.775 9.99917 13.8592 10.3867 13.1475C10.7192 12.5367 11.365 12.1425 12.2408 12.21C12.2408 11.455 12.2317 10.7 12.2408 9.94583C12.2992 8.715 13.2358 7.93583 14.2925 7.94833ZM17.1575 18.3333C17.18 16.9683 17.6042 16.2033 17.9458 15.5517C18.2142 15.04 18.4067 14.6717 18.4067 14.075C18.4067 13.3958 18.19 13.12 17.9208 12.9858C17.7242 12.8883 17.4975 13.04 17.4975 13.2692V13.6717C17.4975 13.81 17.3908 13.9225 17.26 13.9225C17.1275 13.9225 17.0208 13.81 17.0208 13.6717V12.9967C17.0208 12.8183 16.9025 12.6667 16.7383 12.6325C16.5208 12.5867 16.3175 12.7633 16.3175 12.9967V13.3617C16.3175 13.5008 16.2108 13.6133 16.08 13.6133C15.9475 13.6133 15.8408 13.5008 15.8408 13.3617V12.8017C15.8408 12.6233 15.7217 12.47 15.5567 12.435C15.3375 12.3892 15.1333 12.5667 15.1333 12.8017V13.0542C15.1333 13.1933 15.0267 13.3058 14.8967 13.3058C14.7633 13.3058 14.6567 13.1933 14.6567 13.0542V9.9975C14.6567 9.77 14.4667 9.5775 14.2408 9.5775C14.015 9.5775 13.8242 9.77 13.8242 9.9975V15.245C13.3808 14.6642 12.6325 13.8325 12.1067 13.8358C11.7592 13.8367 11.6358 14.1375 11.9225 14.44C13.0167 15.5967 14.3017 16.6533 14.6042 18.3333H17.1575ZM20 10.5317C19.8842 10.4408 19.7625 10.3567 19.6375 10.2783C19.235 10.03 18.7925 9.86 18.3333 9.75083V1.75583C14.025 2.08083 12.0442 2.9825 10.8333 3.69917V10.8333C10.1167 11.0742 9.55667 11.5433 9.16667 12.1108V3.70167C7.93833 2.97583 5.96417 2.08 1.66667 1.75583V13.1758C4.77 13.3883 7.185 14.02 8.59833 14.4808C8.6325 14.7725 8.7025 15.0608 8.805 15.3358C8.985 15.8217 9.265 16.2583 9.61417 16.6392C9.36583 16.6033 9.12167 16.5317 8.88917 16.425C6.49583 15.3292 3.28083 14.8625 0 14.7625V0C3.82 0.1175 7.55167 0.730833 10 2.25583C12.4483 0.730833 16.18 0.1175 20 0V10.5317ZM3.33333 11.4425C5.07167 11.7025 7.0425 12.2958 8.33333 12.8375V11.95C6.94333 11.4317 5.09917 10.855 3.33333 10.595V11.4425ZM3.33333 9.75C5.07167 10.01 7.0425 10.6025 8.33333 11.1442V10.2575C6.94333 9.73917 5.09917 9.16083 3.33333 8.90333V9.75ZM3.33333 8.0575C5.07167 8.31667 7.0425 8.91 8.33333 9.45167V8.565C6.94333 8.04667 5.09917 7.46833 3.33333 7.21V8.0575ZM3.33333 6.365C5.07167 6.62417 7.0425 7.21833 8.33333 7.75833V6.87167C6.94333 6.35333 5.09917 5.77667 3.33333 5.5175V6.365ZM16.6667 5.5175C14.9 5.77667 13.0567 6.35333 11.6667 6.87167V7.75833C12.9567 7.21833 14.9283 6.62417 16.6667 6.365V5.5175ZM3.33333 3.81667C5.09917 4.07417 6.94333 4.6525 8.33333 5.17083V6.0575C7.0425 5.51667 5.07167 4.92333 3.33333 4.66333V3.81667ZM16.6667 4.66333C14.9283 4.92333 12.9567 5.51667 11.6667 6.0575V5.17083C13.0567 4.6525 14.9 4.07417 16.6667 3.81667V4.66333Z'
                      fill='#1E1E1E90'
                    />
                  </g>
                  <defs>
                    <clipPath id='clip0_1_1520'>
                      <rect className='h-6 w-6' fill='white' />
                    </clipPath>
                  </defs>
                </svg>
              }
            />
          )}

          {isClient && role !== 'Admin' && role !== 'Student' && (
            <NavItem
              href={`${
                isClient && role === 'Teacher' ? '/teachers' : ''
              }/classes`}
              activeClass={activeClass}
              setActiveClass={setActiveClass}
              activeIcon={<Class className='text-white' />}
              label='classes'
              icon={<ClassOutlined />}
            />
          )}

          {isClient && role !== 'Admin' && (
            <NavItem
              href={`${
                isClient && role === 'Teacher'
                  ? '/teachers'
                  : role === 'Student'
                  ? '/students'
                  : ''
              }/assessments`}
              activeClass={activeClass}
              setActiveClass={setActiveClass}
              activeIcon={
                <svg
                  xmlns='http://www.w3.org/2000/svg'
                  className='h-6 w-6'
                  viewBox='0 0 24 24'
                  fill='none'
                >
                  <path
                    d='M21 4C21 3.522 20.621 3 20 3H4C3.38 3 3 3.519 3 4V20C3 20.621 3.52 21 4 21H20C20.478 21 21 20.621 21 20V4ZM18 15.25C18 15.664 17.664 16 17.25 16H12.75C12.336 16 12 15.664 12 15.25C12 14.836 12.336 14.5 12.75 14.5H17.25C17.664 14.5 18 14.836 18 15.25ZM6.228 14.713C6.077 14.578 6 14.392 6 14.204C6 13.829 6.304 13.522 6.683 13.522C6.845 13.522 7.007 13.579 7.138 13.695L7.884 14.36L9.544 12.545C9.68 12.398 9.863 12.324 10.048 12.324C10.429 12.324 10.732 12.631 10.732 13.006C10.732 13.169 10.673 13.334 10.553 13.465L8.437 15.778C8.303 15.925 8.118 16 7.933 16C7.771 16 7.608 15.943 7.478 15.827L6.228 14.713ZM18 12.002C18 12.416 17.664 12.752 17.25 12.752H12.75C12.336 12.752 12 12.416 12 12.002C12 11.588 12.336 11.252 12.75 11.252H17.25C17.664 11.252 18 11.588 18 12.002ZM6.228 10.389V10.39C6.077 10.255 6 10.068 6 9.881C6 9.505 6.304 9.199 6.683 9.199C6.845 9.199 7.007 9.256 7.138 9.372L7.884 10.036L9.544 8.221C9.68 8.074 9.863 8 10.048 8C10.429 8 10.732 8.308 10.732 8.682C10.732 8.846 10.673 9.011 10.553 9.142L8.437 11.455C8.303 11.602 8.118 11.676 7.933 11.676C7.771 11.676 7.608 11.619 7.478 11.503L6.228 10.389ZM18 8.75C18 9.164 17.664 9.5 17.25 9.5H12.75C12.336 9.5 12 9.164 12 8.75C12 8.336 12.336 8 12.75 8H17.25C17.664 8 18 8.336 18 8.75Z'
                    fill='#FDFDFD'
                  />
                </svg>
              }
              label='assessments'
              icon={
                <svg
                  xmlns='http://www.w3.org/2000/svg'
                  className='h-6 w-6'
                  viewBox='0 0 24 24'
                  fill='none'
                >
                  <path
                    fillRule='evenodd'
                    clipRule='evenodd'
                    d='M21 4C21 3.522 20.621 3 20 3H4C3.38 3 3 3.519 3 4V20C3 20.621 3.52 21 4 21H20C20.478 21 21 20.621 21 20V4ZM4.5 4.5H19.5V19.5H4.5V4.5ZM18 15.25C18 14.836 17.664 14.5 17.25 14.5H12.75C12.336 14.5 12 14.836 12 15.25C12 15.664 12.336 16 12.75 16H17.25C17.664 16 18 15.664 18 15.25ZM6.228 14.713L7.478 15.827C7.608 15.943 7.771 16 7.933 16C8.118 16 8.303 15.925 8.437 15.778L10.553 13.465C10.673 13.334 10.732 13.169 10.732 13.006C10.732 12.631 10.429 12.324 10.048 12.324C9.863 12.324 9.68 12.398 9.544 12.545L7.884 14.36L7.138 13.695C7.007 13.579 6.845 13.522 6.683 13.522C6.304 13.522 6 13.829 6 14.204C6 14.392 6.077 14.578 6.228 14.713ZM18 12.002C18 11.588 17.664 11.252 17.25 11.252H12.75C12.336 11.252 12 11.588 12 12.002C12 12.416 12.336 12.752 12.75 12.752H17.25C17.664 12.752 18 12.416 18 12.002ZM6.228 10.389L7.478 11.503C7.608 11.619 7.771 11.676 7.933 11.676C8.118 11.676 8.303 11.602 8.437 11.455L10.553 9.142C10.673 9.011 10.732 8.846 10.732 8.682C10.732 8.308 10.429 8 10.048 8C9.863 8 9.68 8.074 9.544 8.221L7.884 10.036L7.138 9.372C7.007 9.256 6.845 9.199 6.683 9.199C6.304 9.199 6 9.505 6 9.881C6 10.068 6.077 10.255 6.228 10.39V10.389ZM18 8.75C18 8.336 17.664 8 17.25 8H12.75C12.336 8 12 8.336 12 8.75C12 9.164 12.336 9.5 12.75 9.5H17.25C17.664 9.5 18 9.164 18 8.75Z'
                    fill='#1E1E1E90'
                  />
                </svg>
              }
            />
          )}

          {isClient && role === 'Admin' && (
            <NavItem
              href={`/admins/teachers`}
              activeClass={activeClass}
              setActiveClass={setActiveClass}
              activeIcon={
                <svg
                  xmlns='http://www.w3.org/2000/svg'
                  className='h-6 w-6'
                  viewBox='0 0 22 22'
                  fill='none'
                >
                  <path
                    fillRule='evenodd'
                    clipRule='evenodd'
                    d='M14.6667 22H9.16667V21.0833C9.16667 20.0704 9.98708 19.25 11 19.25H12.8333C13.3192 19.25 13.7857 19.4434 14.1295 19.7872C14.4732 20.1309 14.6667 20.5975 14.6667 21.0833V22ZM22 22H16.5V21.0833C16.5 20.0704 17.3204 19.25 18.3333 19.25H20.1667C20.6525 19.25 21.1191 19.4434 21.4628 19.7872C21.8066 20.1309 22 20.5975 22 21.0833V22ZM6.19575 8.25C6.79067 8.25 7.381 8.05475 7.74675 7.85033C8.43883 7.46533 10.2172 6.34425 10.9413 5.90333C11.1393 5.78325 11.3951 5.82725 11.5408 6.00692L11.5482 6.017C11.6994 6.204 11.682 6.47442 11.5088 6.64033C10.9386 7.18758 9.26933 8.77433 8.41958 9.58558C7.94108 10.043 7.66608 10.67 7.63767 11.3309C7.55058 13.354 7.39842 17.6669 7.33425 19.4278C7.31867 19.8403 6.9795 20.1667 6.567 20.1667C6.16 20.1667 5.84558 19.8486 5.79975 19.4443C5.698 18.5451 5.49817 16.4377 5.40925 15.5833C5.37258 15.2313 5.15258 15.0214 4.873 15.0196C4.59433 15.0187 4.39358 15.2267 4.36975 15.5778C4.31383 16.4221 4.12683 18.5552 4.05717 19.4462C4.026 19.8513 3.69325 20.1667 3.28717 20.1667C2.87283 20.1667 2.53092 19.8394 2.51442 19.426C2.4255 17.2792 2.17617 11.209 2.17617 11.209L0.996417 13.3448C0.868083 13.5767 0.5885 13.6785 0.341 13.5832H0.340083C0.0843333 13.4842 -0.0540833 13.2064 0.0201667 12.9433L1.1605 8.91642C1.27233 8.52225 1.63258 8.25 2.04233 8.25H6.19575ZM11.9167 14.6667C13.0552 14.6667 13.9792 15.5907 13.9792 16.7292C13.9792 17.8677 13.0552 18.7917 11.9167 18.7917C10.7782 18.7917 9.85417 17.8677 9.85417 16.7292C9.85417 15.5907 10.7782 14.6667 11.9167 14.6667ZM19.25 14.6667C20.3885 14.6667 21.3125 15.5907 21.3125 16.7292C21.3125 17.8677 20.3885 18.7917 19.25 18.7917C18.1115 18.7917 17.1875 17.8677 17.1875 16.7292C17.1875 15.5907 18.1115 14.6667 19.25 14.6667ZM22 13.75H8.25V12.8333H15.5833V11.9167H18.3333V12.8333H21.0833V0.916667H0.916667V7.33333L0 9.84958V0H22V13.75ZM16.5 8.25H12.8333V7.33333H16.5V8.25ZM4.92617 3.66667C6.06375 3.66667 6.98867 4.59067 6.98867 5.72917C6.98867 6.86767 6.06375 7.79167 4.92617 7.79167C3.78767 7.79167 2.86367 6.86767 2.86367 5.72917C2.86367 4.59067 3.78767 3.66667 4.92617 3.66667ZM19.25 6.41667H12.8333V5.5H19.25V6.41667ZM19.25 4.58333H12.8333V3.66667H19.25V4.58333Z'
                    fill='#FDFDFD'
                  />
                </svg>
              }
              label='teachers'
              icon={
                <svg
                  xmlns='http://www.w3.org/2000/svg'
                  className='h-6 w-6'
                  viewBox='0 0 22 22'
                  fill='none'
                >
                  <path
                    fillRule='evenodd'
                    clipRule='evenodd'
                    d='M20.1667 19.25C20.6525 19.25 21.1191 19.4434 21.4628 19.7872C21.8075 20.1309 22 20.5975 22 21.0833V22H16.5V21.0833C16.5 20.0713 17.3213 19.25 18.3333 19.25H20.1667ZM13.75 19.25C14.2358 19.25 14.7024 19.4434 15.0462 19.7872C15.3908 20.1309 15.5833 20.5975 15.5833 21.0833V22H10.0833V21.0833C10.0833 20.0713 10.9047 19.25 11.9167 19.25H13.75ZM20.1667 20.1667H18.3333C17.8283 20.1667 17.4167 20.5773 17.4167 21.0833H21.0833C21.0833 20.5663 20.6608 20.1667 20.1667 20.1667ZM13.75 20.1667H11.9167C11.4116 20.1667 11 20.5773 11 21.0833H14.6667C14.6667 20.5663 14.2441 20.1667 13.75 20.1667ZM7.55517 19.052C7.53225 19.6744 7.02717 20.1612 6.40383 20.1612C5.81717 20.1612 5.32308 19.7056 5.25433 19.1015L4.88217 15.4037L4.59158 19.0877C4.54483 19.6891 4.03792 20.1612 3.43933 20.1612C2.81508 20.1612 2.30725 19.6744 2.2825 19.052L2.04233 13.134L1.76 13.6428C1.53908 14.0433 1.02667 14.2276 0.600417 14.0635C0.230083 13.9205 0 13.5703 0 13.1918C0 13.1065 0.011 13.0194 0.03575 12.9323L1.07525 9.17583C1.23108 8.62492 1.73983 8.23992 2.31367 8.23992H6.06833C6.53675 8.23992 6.996 8.07675 7.24625 7.93742C7.909 7.568 9.482 6.6825 10.1209 6.29383C10.4821 6.07108 10.9908 6.15908 11.2576 6.49275C11.5509 6.85575 11.5197 7.36358 11.1897 7.68167L8.39575 10.3455C8.052 10.6746 7.85033 11.1237 7.83017 11.6114C7.77425 12.892 7.55517 19.052 7.55517 19.052ZM2.31367 9.15658C2.14867 9.15658 2.002 9.2675 1.95708 9.42608C1.68667 10.3794 1.03033 12.7866 0.917583 13.1826L2.30267 10.8057C2.46033 10.5353 2.87375 10.6407 2.88567 10.9505L3.19825 19.0144C3.20742 19.2693 3.65658 19.2775 3.67767 19.0163C3.67767 19.0163 3.92425 15.9454 3.96 15.4009C3.99758 14.8518 4.37158 14.4687 4.86933 14.4687C5.37075 14.4705 5.75667 14.8491 5.81258 15.389C5.84558 15.7089 6.11233 18.5231 6.1655 18.9988C6.20492 19.3453 6.62842 19.2977 6.63942 19.019C6.63942 19.019 6.8585 12.8544 6.91442 11.572C6.94467 10.8469 7.24625 10.1759 7.76233 9.68275L10.5536 7.02075C9.94767 7.47175 8.36 8.36642 7.69267 8.73767C7.32967 8.94025 6.71183 9.15658 6.06833 9.15658H2.31367ZM19.25 14.6667C18.0538 14.6667 17.083 15.6383 17.083 16.8337C17.083 18.0299 18.0538 19.0016 19.25 19.0016C20.4463 19.0016 21.417 18.0299 21.417 16.8337C21.417 15.6383 20.4463 14.6667 19.25 14.6667ZM12.8333 14.6667C11.6371 14.6667 10.6663 15.6383 10.6663 16.8337C10.6663 18.0299 11.6371 19.0016 12.8333 19.0016C14.0296 19.0016 15.0003 18.0299 15.0003 16.8337C15.0003 15.6383 14.0296 14.6667 12.8333 14.6667ZM19.25 15.5833C19.9393 15.5833 20.5003 16.1443 20.5003 16.8337C20.5003 17.5239 19.9393 18.0849 19.25 18.0849C18.5607 18.0849 17.9997 17.5239 17.9997 16.8337C17.9997 16.1443 18.5607 15.5833 19.25 15.5833ZM12.8333 15.5833C13.5227 15.5833 14.0837 16.1443 14.0837 16.8337C14.0837 17.5239 13.5227 18.0849 12.8333 18.0849C12.144 18.0849 11.583 17.5239 11.583 16.8337C11.583 16.1443 12.144 15.5833 12.8333 15.5833ZM22 13.75H8.5635V12.8333H15.5833V11.9167H18.3333V12.8333H21.0833V0.916667H0.916667V7.33333L0 10.0833V0H22V13.75ZM16.5 8.25H12.8333V7.33333H16.5V8.25ZM4.83358 3.66667C3.66208 3.66667 2.7115 4.61817 2.7115 5.78967C2.7115 6.96117 3.66208 7.91267 4.83358 7.91267C6.00508 7.91267 6.95658 6.96117 6.95658 5.78967C6.95658 4.61817 6.00508 3.66667 4.83358 3.66667ZM4.83358 4.58333C5.49908 4.58333 6.03992 5.12417 6.03992 5.78967C6.03992 6.45517 5.49908 6.996 4.83358 6.996C4.169 6.996 3.62817 6.45517 3.62817 5.78967C3.62817 5.12417 4.169 4.58333 4.83358 4.58333ZM19.25 6.41667H12.8333V5.5H19.25V6.41667ZM19.25 4.58333H12.8333V3.66667H19.25V4.58333Z'
                    fill='#1E1E1E'
                  />
                </svg>
              }
            />
          )}

          {isClient && role !== 'Student' && (
            <NavItem
              href={`${
                isClient && role === 'Teacher'
                  ? '/teachers'
                  : role === 'Admin'
                  ? '/admins'
                  : ''
              }/students`}
              activeClass={activeClass}
              setActiveClass={setActiveClass}
              activeIcon={
                <svg
                  xmlns='http://www.w3.org/2000/svg'
                  className='h-6 w-6'
                  viewBox='0 0 24 24'
                  fill='none'
                >
                  <path
                    fillRule='evenodd'
                    clipRule='evenodd'
                    d='M24 21H21L22 18H23L24 21ZM11.024 16.457L20 11.882V18C18.993 20.041 14.393 21 11.5 21C8.325 21 4.111 20.006 3 18V11.386L11.024 16.457ZM23 17H22V9.74L11.077 15.308L0 8.308L12 3L23 9.231V17Z'
                    fill='#FDFDFD'
                  />
                </svg>
              }
              label='students'
              icon={
                <svg
                  xmlns='http://www.w3.org/2000/svg'
                  className='h-6 w-6'
                  viewBox='0 0 24 24'
                  fill='none'
                >
                  <path
                    fillRule='evenodd'
                    clipRule='evenodd'
                    d='M22 9.74L20 10.76V18C18.993 20.041 14.394 21 11.5 21C8.325 21 4.111 20.006 3 18V10.204L0 8.308L12 3L23 9.231V18L24 21H21L22 18V9.74ZM4 10.835V17.708C4.958 18.988 8.217 20 11.5 20C14.394 20 18.089 19.041 19 17.731V11.269L11.077 15.308L4 10.835ZM2.119 8.464L11.13 14.158L20.889 9.184L11.945 4.118L2.119 8.464Z'
                    fill='#1E1E1E95'
                  />
                </svg>
              }
            />
          )}

          {isClient && role !== 'Teacher' && (
            <NavItem
              href={`${
                isClient && role === 'Student'
                  ? '/students'
                  : role === 'Admin'
                  ? '/admins'
                  : ''
              }/profile`}
              activeClass={activeClass}
              setActiveClass={setActiveClass}
              activeIcon={
                <svg
                  xmlns='http://www.w3.org/2000/svg'
                  className='h-4 w-4'
                  viewBox='0 0 20 20'
                  fill='none'
                >
                  <path
                    d='M15.8333 5.83417C15.8333 9.055 13.2217 11.6675 10 11.6675C6.77833 11.6675 4.16667 9.055 4.16667 5.83417C4.16667 2.61167 6.77833 0 10 0C13.2217 0 15.8333 2.61167 15.8333 5.83417ZM14.5017 11.8175C13.2467 12.765 11.69 13.3342 10 13.3342C8.30833 13.3342 6.75083 12.7633 5.49417 11.8158C2.10083 13.31 0 17.9625 0 20H20C20 17.9808 17.8333 13.3283 14.5017 11.8175Z'
                    fill='#FDFDFD'
                  />
                </svg>
              }
              label='profile'
              icon={
                <svg
                  xmlns='http://www.w3.org/2000/svg'
                  className='h-4 w-4'
                  viewBox='0 0 20 20'
                  fill='none'
                >
                  <g clipPath='url(#clip0_1_1309)'>
                    <path
                      d='M10 1.66667C12.2975 1.66667 14.1667 3.53583 14.1667 5.83417C14.1667 8.13083 12.2975 10.0008 10 10.0008C7.7025 10.0008 5.83333 8.13083 5.83333 5.83417C5.83333 3.53583 7.7025 1.66667 10 1.66667ZM10 0C6.77833 0 4.16667 2.61167 4.16667 5.83417C4.16667 9.055 6.77833 11.6675 10 11.6675C13.2217 11.6675 15.8333 9.055 15.8333 5.83417C15.8333 2.61167 13.2217 0 10 0ZM15.3075 11.1275C14.8933 11.5425 14.4267 11.9033 13.9258 12.2125C16.3192 13.7742 17.5742 16.4483 18.0692 18.3342H1.91333C2.39 16.4258 3.62833 13.7483 6.0575 12.2025C5.555 11.8908 5.08917 11.5267 4.67583 11.1092C1.1275 13.6692 0 18.1975 0 20H20C20 18.215 18.8 13.7025 15.3075 11.1275Z'
                      fill='#1E1E1E90'
                    />
                  </g>
                  <defs>
                    <clipPath id='clip0_1_1309'>
                      <rect className='h-6 w-6' fill='white' />
                    </clipPath>
                  </defs>
                </svg>
              }
            />
          )}

          {isClient && role !== 'Student' && (
            <NavItem
              href={`${
                isClient && role === 'Teacher'
                  ? '/teachers'
                  : role === 'Admin'
                  ? '/admins'
                  : ''
              }/subjects`}
              activeClass={activeClass}
              setActiveClass={setActiveClass}
              activeIcon={
                <svg
                  width='16'
                  height='18'
                  viewBox='0 0 16 18'
                  className='h-4 w-4'
                  fill='none'
                  xmlns='http://www.w3.org/2000/svg'
                >
                  <path
                    d='M2.67733 14.4H16V1.8C16 1.32261 15.8127 0.864773 15.4793 0.527208C15.1459 0.189642 14.6937 0 14.2222 0H2.66667C1.59467 0 0 0.7191 0 2.7V15.3C0 17.2809 1.59467 18 2.66667 18H16V16.2H2.67733C2.26667 16.1892 1.77778 16.0245 1.77778 15.3C1.77778 14.5755 2.26667 14.4108 2.67733 14.4ZM4.44444 3.6H12.4444V5.4H4.44444V3.6Z'
                    fill='#FDFDFD'
                  />
                </svg>
              }
              label='subjects'
              icon={
                <svg
                  width='16'
                  height='18'
                  viewBox='0 0 16 18'
                  className='h-4 w-4'
                  fill='none'
                  xmlns='http://www.w3.org/2000/svg'
                >
                  <path
                    d='M2.67733 14.4H16V1.8C16 1.32261 15.8127 0.864773 15.4793 0.527208C15.1459 0.189642 14.6937 0 14.2222 0H2.66667C1.59467 0 0 0.7191 0 2.7V15.3C0 17.2809 1.59467 18 2.66667 18H16V16.2H2.67733C2.26667 16.1892 1.77778 16.0245 1.77778 15.3C1.77778 14.5755 2.26667 14.4108 2.67733 14.4ZM4.44444 3.6H12.4444V5.4H4.44444V3.6Z'
                    fill='#1E1E1E90'
                  />
                </svg>
              }
            />
          )}
        </ul>

        <div className='dashboard_logout'>
          <span
            className='btn-logout cursor-pointer'
            onClick={() => {
              handleOpen && handleOpen();
            }}
          >
            <Logout className='sign-out' />
            <span>Log out</span>
          </span>
        </div>
      </div>
    </div>
  );
};

const NavItem: React.FC<NavItemProps> = ({
  href,
  activeClass,
  setActiveClass,
  label,
  icon,
  activeIcon,
}) => {
  return (
    <li>
      <Link
        href={href}
        className={`px-5 py-1.5 space-x-2 ${
          activeClass === label ? 'bg-primary rounded-tr-lg rounded-br-lg' : ''
        }`}
        onClick={() => setActiveClass(label)}
      >
        <div
          className={` flex items-center justify-center rounded-lg p-1.5 md:p-2 min-w-[40px] min-h-[40px]`}
        >
          {activeClass === label ? activeIcon : icon}
        </div>
        <span
          className={`links_name capitalize !text-md md:text-base ${
            activeClass !== label ? 'text-subtext/60' : 'text-white'
          }`}
        >
          {label}
        </span>
      </Link>
      {/* <span className='toolkit capitalize'>{label}</span> */}
    </li>
  );
};

export default SideNav;
