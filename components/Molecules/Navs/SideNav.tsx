import React, { useEffect, useRef, useState } from "react";
import { Class, ClassOutlined, Close, Logout, Menu } from "@mui/icons-material";
import { useRouter } from "next/router";
import Link from "next/link";
import Image from "next/image";
import Logo from "@/public/image/logo.png";
import { useSidebarContext } from "@/contexts/SidebarContext";
import { useAuth } from "@/contexts/AuthContext";

type NavItemProps = {
  href: string;
  activeClass: string;
  setActiveClass: React.Dispatch<React.SetStateAction<string>>;
  label: string;
  icon: JSX.Element;
  activeIcon: JSX.Element;
};
// isSidenavOpen;
const SideNav: React.FC<{ isOpen: boolean; handleOpen: () => void }> = ({
  isOpen,
  handleOpen,
}) => {
  const { active, setActive } = useSidebarContext();
  const router = useRouter();
  const [activeClass, setActiveClass] = useState<string>(
    router.pathname.split("/")[1]
  );
  const navRef = useRef<HTMLDivElement>(null);
  const [isClient, setIsClient] = useState<boolean>(false);
  const { user } = useAuth();
  const role = user?.role;

  useEffect(() => {
    setIsClient(true);
  }, []);

  const toggleClass = () => {
    setActive(!active);
  };

  useEffect(() => {
    const baseRoute = router.pathname.split("/")[2];
    setActiveClass(baseRoute);
  }, [router.pathname]);

  useEffect(() => {
    const handleResize = () => {
      if (window.innerWidth <= 768) {
        setActive(true);
      }
    };
    handleResize();
    window.addEventListener("resize", handleResize);
    return () => {
      window.removeEventListener("resize", handleResize);
    };
  }, [setActive]);

  return (
    <div
      className={`lg:block transition-transform transform flex-col h-full w-full`}
    >
      {/* <div className={`sidebar-nav ${active && 'active'}`} ref={navRef}> */}
      <div className={`sidebar-nav active`} ref={navRef}>
        <div className='flex justify-between items-center'>
          <Image
            onClick={() => {
              window.scrollTo(0, 0);
              router.push("/");
            }}
            src={Logo}
            alt='Logo'
            className={`w-14 h-14 ml-4 cursor-pointer object-cover transition-all ease-in-out duration-500 ${
              // active ? 'flex' : 'hidden'
              `flex`
            }`}
          />

          {/* {isOpen && (
            <Close
              sx={{ color: '#fff', cursor: 'pointer' }}
              id='btn-bars'
              onClick={handleOpen}
              className='transition-all ease-in-out duration-500 hidden lg:flex'
            />
          )} */}

          {/* {active ? (
            <Close
              sx={{ color: '#fff', cursor: 'pointer' }}
              id='btn-bars'
              onClick={toggleClass}
              className='transition-all ease-in-out duration-500 hidden lg:flex'
            />
          ) : (
            <Menu
              onClick={toggleClass}
              id='btn-bars'
              sx={{ fontSize: '1rem', cursor: 'pointer' }}
              className='transition-all ease-in-out duration-500  hidden lg:flex'
            />
          )} */}
        </div>

        <ul className='nav_list space-y-3.5 md:space-y-6 flex-1'>
          <NavItem
            href={`${
              isClient && role === "Teacher"
                ? "/teachers"
                : role === "Student"
                ? "/students"
                : role === "Admin"
                ? "/admins"
                : ""
            }/dashboard`}
            activeClass={activeClass}
            setActiveClass={setActiveClass}
            activeIcon={
              <svg
                width='21'
                height='20'
                viewBox='0 0 21 20'
                fill='none'
                xmlns='http://www.w3.org/2000/svg'
              >
                <path
                  d='M17.6178 11.5H13.7428C13.2291 11.4995 12.7362 11.7027 12.3722 12.065C12.0081 12.4274 11.8027 12.9193 11.8008 13.433V17.308C11.8005 17.5631 11.8506 17.8158 11.9481 18.0515C12.0456 18.2872 12.1886 18.5014 12.369 18.6818C12.5494 18.8622 12.7636 19.0052 12.9993 19.1027C13.2351 19.2002 13.4877 19.2503 13.7428 19.25H17.6178C18.1313 19.2479 18.623 19.0423 18.9851 18.6783C19.3473 18.3142 19.5503 17.8215 19.5498 17.308V13.433C19.5501 13.1792 19.5003 12.9279 19.4033 12.6933C19.3063 12.4588 19.164 12.2457 18.9845 12.0663C18.8051 11.8868 18.592 11.7445 18.3575 11.6475C18.1229 11.5505 17.8716 11.5007 17.6178 11.501M6.85681 11.5H2.98181C2.4684 11.5029 1.97701 11.7089 1.615 12.073C1.253 12.437 1.0498 12.9296 1.04981 13.443V17.318C1.04954 17.5718 1.09934 17.8231 1.19633 18.0577C1.29333 18.2922 1.43563 18.5053 1.61509 18.6847C1.79454 18.8642 2.00763 19.0065 2.24215 19.1035C2.47667 19.2005 2.72802 19.2503 2.98181 19.25H6.85681C7.37029 19.2505 7.86304 19.0475 8.22706 18.6853C8.59109 18.3232 8.79669 17.8315 8.79881 17.318V13.443C8.79907 13.1879 8.74902 12.9353 8.65152 12.6995C8.55401 12.4638 8.41098 12.2496 8.23059 12.0692C8.05021 11.8888 7.83602 11.7458 7.60029 11.6483C7.36456 11.5508 7.11191 11.5007 6.85681 11.501M6.85681 0.750001H2.98181C2.72802 0.749738 2.47667 0.799531 2.24215 0.89653C2.00763 0.993529 1.79454 1.13583 1.61509 1.31528C1.43563 1.49474 1.29333 1.70783 1.19633 1.94235C1.09934 2.17687 1.04954 2.42821 1.04981 2.682V6.557C1.04927 7.07048 1.25233 7.56324 1.61448 7.92726C1.97663 8.29128 2.46833 8.49688 2.98181 8.499H6.85681C7.11191 8.49926 7.36456 8.44921 7.60029 8.35171C7.83602 8.25421 8.05021 8.11117 8.23059 7.93079C8.41098 7.75041 8.55401 7.53622 8.65152 7.30048C8.74902 7.06475 8.79907 6.8121 8.79881 6.557V2.682C8.79669 2.16852 8.59109 1.67683 8.22706 1.31468C7.86304 0.952527 7.37029 0.749467 6.85681 0.750001ZM17.6178 0.750001H13.7428C13.2293 0.749467 12.7366 0.952527 12.3725 1.31468C12.0085 1.67683 11.8029 2.16852 11.8008 2.682V6.557C11.8011 7.07197 12.0058 7.56577 12.3699 7.92991C12.734 8.29405 13.2278 8.49874 13.7428 8.499H17.6178C18.1313 8.49688 18.623 8.29128 18.9851 7.92726C19.3473 7.56324 19.5503 7.07048 19.5498 6.557V2.682C19.5501 2.42821 19.5003 2.17687 19.4033 1.94235C19.3063 1.70783 19.164 1.49474 18.9845 1.31528C18.8051 1.13583 18.592 0.993529 18.3575 0.89653C18.1229 0.799531 17.8716 0.749738 17.6178 0.750001Z'
                  stroke='#F8F8F8'
                  strokeWidth='1.5'
                  strokeLinecap='round'
                  strokeLinejoin='round'
                />
              </svg>
            }
            label='dashboard'
            icon={
              <svg
                width='21'
                height='20'
                viewBox='0 0 21 20'
                fill='none'
                xmlns='http://www.w3.org/2000/svg'
              >
                <path
                  d='M17.6178 11.5H13.7428C13.2291 11.4995 12.7362 11.7027 12.3722 12.065C12.0081 12.4274 11.8027 12.9193 11.8008 13.433V17.308C11.8005 17.5631 11.8506 17.8158 11.9481 18.0515C12.0456 18.2872 12.1886 18.5014 12.369 18.6818C12.5494 18.8622 12.7636 19.0052 12.9993 19.1027C13.2351 19.2002 13.4877 19.2503 13.7428 19.25H17.6178C18.1313 19.2479 18.623 19.0423 18.9851 18.6783C19.3473 18.3142 19.5503 17.8215 19.5498 17.308V13.433C19.5501 13.1792 19.5003 12.9279 19.4033 12.6933C19.3063 12.4588 19.164 12.2457 18.9845 12.0663C18.8051 11.8868 18.592 11.7445 18.3575 11.6475C18.1229 11.5505 17.8716 11.5007 17.6178 11.501M6.85681 11.5H2.98181C2.4684 11.5029 1.97701 11.7089 1.615 12.073C1.253 12.437 1.0498 12.9296 1.04981 13.443V17.318C1.04954 17.5718 1.09934 17.8231 1.19633 18.0577C1.29333 18.2922 1.43563 18.5053 1.61509 18.6847C1.79454 18.8642 2.00763 19.0065 2.24215 19.1035C2.47667 19.2005 2.72802 19.2503 2.98181 19.25H6.85681C7.37029 19.2505 7.86304 19.0475 8.22706 18.6853C8.59109 18.3232 8.79669 17.8315 8.79881 17.318V13.443C8.79907 13.1879 8.74902 12.9353 8.65152 12.6995C8.55401 12.4638 8.41098 12.2496 8.23059 12.0692C8.05021 11.8888 7.83602 11.7458 7.60029 11.6483C7.36456 11.5508 7.11191 11.5007 6.85681 11.501M6.85681 0.750001H2.98181C2.72802 0.749738 2.47667 0.799531 2.24215 0.89653C2.00763 0.993529 1.79454 1.13583 1.61509 1.31528C1.43563 1.49474 1.29333 1.70783 1.19633 1.94235C1.09934 2.17687 1.04954 2.42821 1.04981 2.682V6.557C1.04927 7.07048 1.25233 7.56324 1.61448 7.92726C1.97663 8.29128 2.46833 8.49688 2.98181 8.499H6.85681C7.11191 8.49926 7.36456 8.44921 7.60029 8.35171C7.83602 8.25421 8.05021 8.11117 8.23059 7.93079C8.41098 7.75041 8.55401 7.53622 8.65152 7.30048C8.74902 7.06475 8.79907 6.8121 8.79881 6.557V2.682C8.79669 2.16852 8.59109 1.67683 8.22706 1.31468C7.86304 0.952527 7.37029 0.749467 6.85681 0.750001ZM17.6178 0.750001H13.7428C13.2293 0.749467 12.7366 0.952527 12.3725 1.31468C12.0085 1.67683 11.8029 2.16852 11.8008 2.682V6.557C11.8011 7.07197 12.0058 7.56577 12.3699 7.92991C12.734 8.29405 13.2278 8.49874 13.7428 8.499H17.6178C18.1313 8.49688 18.623 8.29128 18.9851 7.92726C19.3473 7.56324 19.5503 7.07048 19.5498 6.557V2.682C19.5501 2.42821 19.5003 2.17687 19.4033 1.94235C19.3063 1.70783 19.164 1.49474 18.9845 1.31528C18.8051 1.13583 18.592 0.993529 18.3575 0.89653C18.1229 0.799531 17.8716 0.749738 17.6178 0.750001Z'
                  stroke='#1E1E1E'
                  strokeOpacity='0.6'
                  strokeWidth='1.5'
                  strokeLinecap='round'
                  strokeLinejoin='round'
                />
              </svg>
            }
          />

          {/* LECTURES */}
          {isClient && role !== "Admin" && (
            <NavItem
              href={`${
                isClient && role === "Teacher"
                  ? "/teachers"
                  : role === "Student"
                  ? "/students"
                  : ""
              }/lectures`}
              activeClass={activeClass}
              setActiveClass={setActiveClass}
              activeIcon={
                <svg
                  width='15'
                  height='20'
                  viewBox='0 0 15 20'
                  fill='none'
                  xmlns='http://www.w3.org/2000/svg'
                >
                  <path
                    d='M0 2.4C1.07021e-05 1.97872 0.110911 1.56487 0.321554 1.20003C0.532198 0.8352 0.835163 0.532239 1.2 0.3216V16.8C1.2 17.1183 1.32643 17.4235 1.55147 17.6485C1.77652 17.8736 2.08174 18 2.4 18H12C12.3183 18 12.6235 17.8736 12.8485 17.6485C13.0736 17.4235 13.2 17.1183 13.2 16.8V2.4C13.2 2.08174 13.0736 1.77652 12.8485 1.55147C12.6235 1.32643 12.3183 1.2 12 1.2H9.6V0H12C12.6365 0 13.247 0.252856 13.6971 0.702944C14.1471 1.15303 14.4 1.76348 14.4 2.4V16.8C14.4 17.4365 14.1471 18.047 13.6971 18.4971C13.247 18.9471 12.6365 19.2 12 19.2H2.4C1.76348 19.2 1.15303 18.9471 0.702944 18.4971C0.252856 18.047 0 17.4365 0 16.8V2.4ZM2.4 0V7.8C2.4 7.91143 2.43103 8.02065 2.48961 8.11544C2.54819 8.21023 2.63201 8.28683 2.73167 8.33666C2.83134 8.38649 2.94291 8.40758 3.05388 8.39758C3.16486 8.38757 3.27086 8.34686 3.36 8.28L5.4 6.75L7.44 8.28C7.52914 8.34686 7.63514 8.38757 7.74612 8.39758C7.85709 8.40758 7.96866 8.38649 8.06833 8.33666C8.16799 8.28683 8.25181 8.21023 8.31039 8.11544C8.36897 8.02065 8.4 7.91143 8.4 7.8V0H2.4ZM3.6 6.6V1.2H7.2V6.6L5.76 5.52C5.65614 5.44211 5.52982 5.4 5.4 5.4C5.27018 5.4 5.14386 5.44211 5.04 5.52L3.6 6.6Z'
                    fill='#F8F8F8'
                  />
                </svg>
              }
              label='lectures'
              icon={
                <svg
                  width='15'
                  height='20'
                  viewBox='0 0 15 20'
                  fill='none'
                  xmlns='http://www.w3.org/2000/svg'
                >
                  <path
                    d='M0 2.4C1.07021e-05 1.97872 0.110911 1.56487 0.321554 1.20003C0.532198 0.8352 0.835163 0.532239 1.2 0.3216V16.8C1.2 17.1183 1.32643 17.4235 1.55147 17.6485C1.77652 17.8736 2.08174 18 2.4 18H12C12.3183 18 12.6235 17.8736 12.8485 17.6485C13.0736 17.4235 13.2 17.1183 13.2 16.8V2.4C13.2 2.08174 13.0736 1.77652 12.8485 1.55147C12.6235 1.32643 12.3183 1.2 12 1.2H9.6V0H12C12.6365 0 13.247 0.252856 13.6971 0.702944C14.1471 1.15303 14.4 1.76348 14.4 2.4V16.8C14.4 17.4365 14.1471 18.047 13.6971 18.4971C13.247 18.9471 12.6365 19.2 12 19.2H2.4C1.76348 19.2 1.15303 18.9471 0.702944 18.4971C0.252856 18.047 0 17.4365 0 16.8V2.4ZM2.4 0V7.8C2.4 7.91143 2.43103 8.02065 2.48961 8.11544C2.54819 8.21023 2.63201 8.28683 2.73167 8.33666C2.83134 8.38649 2.94291 8.40758 3.05388 8.39758C3.16486 8.38757 3.27086 8.34686 3.36 8.28L5.4 6.75L7.44 8.28C7.52914 8.34686 7.63514 8.38757 7.74612 8.39758C7.85709 8.40758 7.96866 8.38649 8.06833 8.33666C8.16799 8.28683 8.25181 8.21023 8.31039 8.11544C8.36897 8.02065 8.4 7.91143 8.4 7.8V0H2.4ZM3.6 6.6V1.2H7.2V6.6L5.76 5.52C5.65614 5.44211 5.52982 5.4 5.4 5.4C5.27018 5.4 5.14386 5.44211 5.04 5.52L3.6 6.6Z'
                    fill='#1E1E1E'
                  />
                </svg>
              }
            />
          )}

          {/* Departments */}
          {isClient && (role === "Admin" || role === "Teacher") && (
            <NavItem
              href={`${
                isClient && role === "Teacher"
                  ? "/teachers"
                  : role === "Admin"
                  ? "/admin"
                  : ""
              }/departments`}
              activeClass={activeClass}
              setActiveClass={setActiveClass}
              activeIcon={
                <svg
                  width='20'
                  height='20'
                  viewBox='0 0 20 20'
                  fill='none'
                  xmlns='http://www.w3.org/2000/svg'
                >
                  <g clipPath='url(#clip0_1726_8789)'>
                    <path
                      d='M9.07064 0.714355H18.0735C18.7435 0.714355 19.2864 1.25721 19.2864 1.92721V11.6101C19.2864 12.2815 18.7435 12.8244 18.0735 12.8244H10.7135M4.49778 5.71578C5.16102 5.71578 5.79708 5.45232 6.26606 4.98334C6.73503 4.51437 6.9985 3.8783 6.9985 3.21507C6.9985 2.55184 6.73503 1.91577 6.26606 1.4468C5.79708 0.977823 5.16102 0.714355 4.49778 0.714355C3.83455 0.714355 3.19849 0.977823 2.72951 1.4468C2.26054 1.91577 1.99707 2.55184 1.99707 3.8783 2.72951 4.51437C3.19849 5.45232 3.83455 5.71578 4.49778 5.71578Z'
                      stroke='#FFFFFF'
                      strokeWidth='1.5'
                      strokeLinecap='round'
                      strokeLinejoin='round'
                    />
                    <path
                      d='M12.8567 7.89585C12.8567 7.08585 12.1996 6.42871 11.3896 6.42871H4.49815C3.49461 6.42909 2.53229 6.82791 1.82268 7.53752C1.11307 8.24713 0.714246 9.20946 0.713867 10.213V13.5716H2.3353L2.87672 19.2859H6.11958L7.3653 9.36442H11.3896C12.1996 9.36442 12.8567 8.70728 12.8567 7.89585Z'
                      stroke='#FFFFFF'
                      strokeWidth='1.5'
                      strokeLinecap='round'
                      strokeLinejoin='round'
                    />
                  </g>
                  <defs>
                    <clipPath id='clip0_1726_8789'>
                      <rect width='20' height='20' fill='white' />
                    </clipPath>
                  </defs>
                </svg>
              }
              label='departments'
              icon={
                <svg
                  width='20'
                  height='20'
                  viewBox='0 0 20 20'
                  fill='none'
                  xmlns='http://www.w3.org/2000/svg'
                >
                  <g clipPath='url(#clip0_1726_8789)'>
                    <path
                      d='M9.07064 0.714355H18.0735C18.7435 0.714355 19.2864 1.25721 19.2864 1.92721V11.6101C19.2864 12.2815 18.7435 12.8244 18.0735 12.8244H10.7135M4.49778 5.71578C5.16102 5.71578 5.79708 5.45232 6.26606 4.98334C6.73503 4.51437 6.9985 3.8783 6.9985 3.21507C6.9985 2.55184 6.73503 1.91577 6.26606 1.4468C5.79708 0.977823 5.16102 0.714355 4.49778 0.714355C3.83455 0.714355 3.19849 0.977823 2.72951 1.4468C2.26054 1.91577 1.99707 2.55184 1.99707 3.21507C1.99707 3.8783 2.26054 4.51437 2.72951 4.98334C3.19849 5.45232 3.83455 5.71578 4.49778 5.71578Z'
                      stroke='#1E1E1E'
                      strokeOpacity='0.6'
                      strokeWidth='1.5'
                      strokeLinecap='round'
                      strokeLinejoin='round'
                    />
                    <path
                      d='M12.8567 7.89585C12.8567 7.08585 12.1996 6.42871 11.3896 6.42871H4.49815C3.49461 6.42909 2.53229 6.82791 1.82268 7.53752C1.11307 8.24713 0.714246 9.20946 0.713867 10.213V13.5716H2.3353L2.87672 19.2859H6.11958L7.3653 9.36442H11.3896C12.1996 9.36442 12.8567 8.70728 12.8567 7.89585Z'
                      stroke='#1E1E1E'
                      strokeOpacity='0.6'
                      strokeWidth='1.5'
                      strokeLinecap='round'
                      strokeLinejoin='round'
                    />
                  </g>
                  <defs>
                    <clipPath id='clip0_1726_8789'>
                      <rect width='20' height='20' fill='white' />
                    </clipPath>
                  </defs>
                </svg>
              }
            />
          )}

          {isClient && role !== "Admin" && (
            <NavItem
              href={`${
                isClient && role === "Teacher"
                  ? "/teachers"
                  : role === "Student"
                  ? "/students"
                  : ""
              }/assessments`}
              activeClass={activeClass}
              setActiveClass={setActiveClass}
              activeIcon={
                <svg
                  width='24'
                  height='24'
                  viewBox='0 0 24 24'
                  fill='none'
                  xmlns='http://www.w3.org/2000/svg'
                >
                  <path
                    d='M13.05 4H7.5C7.10218 4 6.72064 4.16857 6.43934 4.46863C6.15804 4.76869 6 5.17565 6 5.6V18.4C6 18.8243 6.15804 19.2313 6.43934 19.5314C6.72064 19.8314 7.10218 20 7.5 20H16.5C16.8978 20 17.2794 19.8314 17.5607 19.5314C17.842 19.2313 18 18.8243 18 18.4V12.48'
                    stroke='#F8F8F8'
                    strokeWidth='1.5'
                    strokeLinecap='round'
                    strokeLinejoin='round'
                  />
                  <path
                    d='M4 7H7'
                    stroke='#F8F8F8'
                    strokeWidth='1.5'
                    strokeLinecap='round'
                    strokeLinejoin='round'
                  />
                  <path
                    d='M4 10H7'
                    stroke='#F8F8F8'
                    strokeWidth='1.5'
                    strokeLinecap='round'
                    strokeLinejoin='round'
                  />
                  <path
                    d='M4 14H7'
                    stroke='#F8F8F8'
                    strokeWidth='1.5'
                    strokeLinecap='round'
                    strokeLinejoin='round'
                  />
                  <path
                    d='M4 17H7'
                    stroke='#F8F8F8'
                    strokeWidth='1.5'
                    strokeLinecap='round'
                    strokeLinejoin='round'
                  />
                  <path
                    d='M19.5022 6.90146C19.821 6.58271 20 6.1504 20 5.69963C20 5.24886 19.821 4.81655 19.5022 4.49781C19.1835 4.17907 18.7513 4 18.3005 4C17.8498 4 17.4175 4.17907 17.0988 4.49781L13.0905 8.50815C12.9003 8.69829 12.761 8.9333 12.6857 9.19148L12.016 11.4879C11.9959 11.5568 11.9947 11.6297 12.0125 11.6992C12.0303 11.7687 12.0665 11.8321 12.1172 11.8828C12.1679 11.9335 12.2313 11.9697 12.3008 11.9875C12.3702 12.0053 12.4432 12.0041 12.512 11.984L14.8082 11.3143C15.0664 11.2389 15.3014 11.0996 15.4915 10.9094L19.5022 6.90146Z'
                    stroke='#F8F8F8'
                    strokeWidth='1.5'
                    strokeLinecap='round'
                    strokeLinejoin='round'
                  />
                </svg>
              }
              label='assessments'
              icon={
                <svg
                  width='24'
                  height='24'
                  viewBox='0 0 24 24'
                  fill='none'
                  xmlns='http://www.w3.org/2000/svg'
                >
                  <path
                    d='M13.05 4H7.5C7.10218 4 6.72064 4.16857 6.43934 4.46863C6.15804 4.76869 6 5.17565 6 5.6V18.4C6 18.8243 6.15804 19.2313 6.43934 19.5314C6.72064 19.8314 7.10218 20 7.5 20H16.5C16.8978 20 17.2794 19.8314 17.5607 19.5314C17.842 19.2313 18 18.8243 18 18.4V12.48'
                    stroke='#1E1E1E'
                    strokeOpacity='0.6'
                    strokeWidth='1.5'
                    strokeLinecap='round'
                    strokeLinejoin='round'
                  />
                  <path
                    d='M4 7H7'
                    stroke='#1E1E1E'
                    strokeOpacity='0.6'
                    strokeWidth='1.5'
                    strokeLinecap='round'
                    strokeLinejoin='round'
                  />
                  <path
                    d='M4 10H7'
                    stroke='#1E1E1E'
                    strokeOpacity='0.6'
                    strokeWidth='1.5'
                    strokeLinecap='round'
                    strokeLinejoin='round'
                  />
                  <path
                    d='M4 14H7'
                    stroke='#1E1E1E'
                    strokeOpacity='0.6'
                    strokeWidth='1.5'
                    strokeLinecap='round'
                    strokeLinejoin='round'
                  />
                  <path
                    d='M4 17H7'
                    stroke='#1E1E1E'
                    strokeOpacity='0.6'
                    strokeWidth='1.5'
                    strokeLinecap='round'
                    strokeLinejoin='round'
                  />
                  <path
                    d='M19.5022 6.90146C19.821 6.58271 20 6.1504 20 5.69963C20 5.24886 19.821 4.81655 19.5022 4.49781C19.1835 4.17907 18.7513 4 18.3005 4C17.8498 4 17.4175 4.17907 17.0988 4.49781L13.0905 8.50815C12.9003 8.69829 12.761 8.9333 12.6857 9.19148L12.016 11.4879C11.9959 11.5568 11.9947 11.6297 12.0125 11.6992C12.0303 11.7687 12.0665 11.8321 12.1172 11.8828C12.1679 11.9335 12.2313 11.9697 12.3008 11.9875C12.3702 12.0053 12.4432 12.0041 12.512 11.984L14.8082 11.3143C15.0664 11.2389 15.3014 11.0996 15.4915 10.9094L19.5022 6.90146Z'
                    stroke='#1E1E1E'
                    strokeOpacity='0.6'
                    strokeWidth='1.5'
                    strokeLinecap='round'
                    strokeLinejoin='round'
                  />
                </svg>
              }
            />
          )}

          {isClient && role === "Admin" && (
            <NavItem
              href={`/admins/teachers`}
              activeClass={activeClass}
              setActiveClass={setActiveClass}
              activeIcon={
                <svg
                  xmlns='http://www.w3.org/2000/svg'
                  className='h-6 w-6'
                  viewBox='0 0 22 22'
                  fill='none'
                >
                  <path
                    fillRule='evenodd'
                    clipRule='evenodd'
                    d='M14.6667 22H9.16667V21.0833C9.16667 20.0704 9.98708 19.25 11 19.25H12.8333C13.3192 19.25 13.7857 19.4434 14.1295 19.7872C14.4732 20.1309 14.6667 20.5975 14.6667 21.0833V22ZM22 22H16.5V21.0833C16.5 20.0704 17.3204 19.25 18.3333 19.25H20.1667C20.6525 19.25 21.1191 19.4434 21.4628 19.7872C21.8066 20.1309 22 20.5975 22 21.0833V22ZM6.19575 8.25C6.79067 8.25 7.381 8.05475 7.74675 7.85033C8.43883 7.46533 10.2172 6.34425 10.9413 5.90333C11.1393 5.78325 11.3951 5.82725 11.5408 6.00692L11.5482 6.017C11.6994 6.204 11.682 6.47442 11.5088 6.64033C10.9386 7.18758 9.26933 8.77433 8.41958 9.58558C7.94108 10.043 7.66608 10.67 7.63767 11.3309C7.55058 13.354 7.39842 17.6669 7.33425 19.4278C7.31867 19.8403 6.9795 20.1667 6.567 20.1667C6.16 20.1667 5.84558 19.8486 5.79975 19.4443C5.698 18.5451 5.49817 16.4377 5.40925 15.5833C5.37258 15.2313 5.15258 15.0214 4.873 15.0196C4.59433 15.0187 4.39358 15.2267 4.36975 15.5778C4.31383 16.4221 4.12683 18.5552 4.05717 19.4462C4.026 19.8513 3.69325 20.1667 3.28717 20.1667C2.87283 20.1667 2.53092 19.8394 2.51442 19.426C2.4255 17.2792 2.17617 11.209 2.17617 11.209L0.996417 13.3448C0.868083 13.5767 0.5885 13.6785 0.341 13.5832H0.340083C0.0843333 13.4842 -0.0540833 13.2064 0.0201667 12.9433L1.1605 8.91642C1.27233 8.52225 1.63258 8.25 2.04233 8.25H6.19575ZM11.9167 14.6667C13.0552 14.6667 13.9792 15.5907 13.9792 16.7292C13.9792 17.8677 13.0552 18.7917 11.9167 18.7917C10.7782 18.7917 9.85417 17.8677 9.85417 16.7292C9.85417 15.5907 10.7782 14.6667 11.9167 14.6667ZM19.25 14.6667C20.3885 14.6667 21.3125 15.5907 21.3125 16.7292C21.3125 17.8677 20.3885 18.7917 19.25 18.7917C18.1115 18.7917 17.1875 17.8677 17.1875 16.7292C17.1875 15.5907 18.1115 14.6667 19.25 14.6667ZM22 13.75H8.25V12.8333H15.5833V11.9167H18.3333V12.8333H21.0833V0.916667H0.916667V7.33333L0 9.84958V0H22V13.75ZM16.5 8.25H12.8333V7.33333H16.5V8.25ZM4.92617 3.66667C6.06375 3.66667 6.98867 4.59067 6.98867 5.72917C6.98867 6.86767 6.06375 7.79167 4.92617 7.79167C3.78767 7.79167 2.86367 6.86767 2.86367 5.72917C2.86367 4.59067 3.78767 3.66667 4.92617 3.66667ZM19.25 6.41667H12.8333V5.5H19.25V6.41667ZM19.25 4.58333H12.8333V3.66667H19.25V4.58333Z'
                    fill='#FDFDFD'
                  />
                </svg>
              }
              label='teachers'
              icon={
                <svg
                  xmlns='http://www.w3.org/2000/svg'
                  className='h-6 w-6'
                  viewBox='0 0 22 22'
                  fill='none'
                >
                  <path
                    fillRule='evenodd'
                    clipRule='evenodd'
                    d='M20.1667 19.25C20.6525 19.25 21.1191 19.4434 21.4628 19.7872C21.8075 20.1309 22 20.5975 22 21.0833V22H16.5V21.0833C16.5 20.0713 17.3213 19.25 18.3333 19.25H20.1667ZM13.75 19.25C14.2358 19.25 14.7024 19.4434 15.0462 19.7872C15.3908 20.1309 15.5833 20.5975 15.5833 21.0833V22H10.0833V21.0833C10.0833 20.0713 10.9047 19.25 11.9167 19.25H13.75ZM20.1667 20.1667H18.3333C17.8283 20.1667 17.4167 20.5773 17.4167 21.0833H21.0833C21.0833 20.5663 20.6608 20.1667 20.1667 20.1667ZM13.75 20.1667H11.9167C11.4116 20.1667 11 20.5773 11 21.0833H14.6667C14.6667 20.5663 14.2441 20.1667 13.75 20.1667ZM7.55517 19.052C7.53225 19.6744 7.02717 20.1612 6.40383 20.1612C5.81717 20.1612 5.32308 19.7056 5.25433 19.1015L4.88217 15.4037L4.59158 19.0877C4.54483 19.6891 4.03792 20.1612 3.43933 20.1612C2.81508 20.1612 2.30725 19.6744 2.2825 19.052L2.04233 13.134L1.76 13.6428C1.53908 14.0433 1.02667 14.2276 0.600417 14.0635C0.230083 13.9205 0 13.5703 0 13.1918C0 13.1065 0.011 13.0194 0.03575 12.9323L1.07525 9.17583C1.23108 8.62492 1.73983 8.23992 2.31367 8.23992H6.06833C6.53675 8.23992 6.996 8.07675 7.24625 7.93742C7.909 7.568 9.482 6.6825 10.1209 6.29383C10.4821 6.07108 10.9908 6.15908 11.2576 6.49275C11.5509 6.85575 11.5197 7.36358 11.1897 7.68167L8.39575 10.3455C8.052 10.6746 7.85033 11.1237 7.83017 11.6114C7.77425 12.892 7.55517 19.052 7.55517 19.052ZM2.31367 9.15658C2.14867 9.15658 2.002 9.2675 1.95708 9.42608C1.68667 10.3794 1.03033 12.7866 0.917583 13.1826L2.30267 10.8057C2.46033 10.5353 2.87375 10.6407 2.88567 10.9505L3.19825 19.0144C3.20742 19.2693 3.65658 19.2775 3.67767 19.0163C3.67767 19.0163 3.92425 15.9454 3.96 15.4009C3.99758 14.8518 4.37158 14.4687 4.86933 14.4687C5.37075 14.4705 5.75667 14.8491 5.81258 15.389C5.84558 15.7089 6.11233 18.5231 6.1655 18.9988C6.20492 19.3453 6.62842 19.2977 6.63942 19.019C6.63942 19.019 6.8585 12.8544 6.91442 11.572C6.94467 10.8469 7.24625 10.1759 7.76233 9.68275L10.5536 7.02075C9.94767 7.47175 8.36 8.36642 7.69267 8.73767C7.32967 8.94025 6.71183 9.15658 6.06833 9.15658H2.31367ZM19.25 14.6667C18.0538 14.6667 17.083 15.6383 17.083 16.8337C17.083 18.0299 18.0538 19.0016 19.25 19.0016C20.4463 19.0016 21.417 18.0299 21.417 16.8337C21.417 15.6383 20.4463 14.6667 19.25 14.6667ZM12.8333 14.6667C11.6371 14.6667 10.6663 15.6383 10.6663 16.8337C10.6663 18.0299 11.6371 19.0016 12.8333 19.0016C14.0296 19.0016 15.0003 18.0299 15.0003 16.8337C15.0003 15.6383 14.0296 14.6667 12.8333 14.6667ZM19.25 15.5833C19.9393 15.5833 20.5003 16.1443 20.5003 16.8337C20.5003 17.5239 19.9393 18.0849 19.25 18.0849C18.5607 18.0849 17.9997 17.5239 17.9997 16.8337C17.9997 16.1443 18.5607 15.5833 19.25 15.5833ZM12.8333 15.5833C13.5227 15.5833 14.0837 16.1443 14.0837 16.8337C14.0837 17.5239 13.5227 18.0849 12.8333 18.0849C12.144 18.0849 11.583 17.5239 11.583 16.8337C11.583 16.1443 12.144 15.5833 12.8333 15.5833ZM22 13.75H8.5635V12.8333H15.5833V11.9167H18.3333V12.8333H21.0833V0.916667H0.916667V7.33333L0 10.0833V0H22V13.75ZM16.5 8.25H12.8333V7.33333H16.5V8.25ZM4.83358 3.66667C3.66208 3.66667 2.7115 4.61817 2.7115 5.78967C2.7115 6.96117 3.66208 7.91267 4.83358 7.91267C6.00508 7.91267 6.95658 6.96117 6.95658 5.78967C6.95658 4.61817 6.00508 3.66667 4.83358 3.66667ZM4.83358 4.58333C5.49908 4.58333 6.03992 5.12417 6.03992 5.78967C6.03992 6.45517 5.49908 6.996 4.83358 6.996C4.169 6.996 3.62817 6.45517 3.62817 5.78967C3.62817 5.12417 4.169 4.58333 4.83358 4.58333ZM19.25 6.41667H12.8333V5.5H19.25V6.41667ZM19.25 4.58333H12.8333V3.66667H19.25V4.58333Z'
                    fill='#1E1E1E'
                  />
                </svg>
              }
            />
          )}

          {isClient && role !== "Student" && (
            <NavItem
              href={`${
                isClient && role === "Teacher"
                  ? "/teachers"
                  : role === "Admin"
                  ? "/admins"
                  : ""
              }/students`}
              activeClass={activeClass}
              setActiveClass={setActiveClass}
              activeIcon={
                <svg
                  xmlns='http://www.w3.org/2000/svg'
                  className='h-6 w-6'
                  viewBox='0 0 24 24'
                  fill='none'
                >
                  <path
                    fillRule='evenodd'
                    clipRule='evenodd'
                    d='M24 21H21L22 18H23L24 21ZM11.024 16.457L20 11.882V18C18.993 20.041 14.393 21 11.5 21C8.325 21 4.111 20.006 3 18V11.386L11.024 16.457ZM23 17H22V9.74L11.077 15.308L0 8.308L12 3L23 9.231V17Z'
                    fill='#FDFDFD'
                  />
                </svg>
              }
              label='students'
              icon={
                <svg
                  xmlns='http://www.w3.org/2000/svg'
                  className='h-6 w-6'
                  viewBox='0 0 24 24'
                  fill='none'
                >
                  <path
                    fillRule='evenodd'
                    clipRule='evenodd'
                    d='M22 9.74L20 10.76V18C18.993 20.041 14.394 21 11.5 21C8.325 21 4.111 20.006 3 18V10.204L0 8.308L12 3L23 9.231V18L24 21H21L22 18V9.74ZM4 10.835V17.708C4.958 18.988 8.217 20 11.5 20C14.394 20 18.089 19.041 19 17.731V11.269L11.077 15.308L4 10.835ZM2.119 8.464L11.13 14.158L20.889 9.184L11.945 4.118L2.119 8.464Z'
                    fill='#1E1E1E95'
                  />
                </svg>
              }
            />
          )}

          {isClient && role !== "Teacher" && (
            <NavItem
              href={`${
                isClient && role === "Student"
                  ? "/students"
                  : role === "Admin"
                  ? "/admins"
                  : ""
              }/profile`}
              activeClass={activeClass}
              setActiveClass={setActiveClass}
              activeIcon={
                <svg
                  width='20'
                  height='20'
                  viewBox='0 0 20 20'
                  fill='none'
                  xmlns='http://www.w3.org/2000/svg'
                >
                  <path
                    d='M11 11C13.2091 11 15 9.20914 15 7C15 4.79086 13.2091 3 11 3C8.79086 3 7 4.79086 7 7C7 9.20914 8.79086 11 11 11Z'
                    stroke='white'
                    strokeOpacity='0.6'
                    strokeWidth='1.5'
                    strokeLinecap='round'
                    strokeLinejoin='round'
                  />
                  <path
                    d='M17 17C17 15.4087 16.3679 13.8826 15.2426 12.7574C14.1174 11.6321 12.5913 11 11 11C9.4087 11 7.88258 11.6321 6.75736 12.7574C5.63214 13.8826 5 15.4087 5 17'
                    stroke='white'
                    strokeOpacity='0.6'
                    strokeWidth='1.5'
                    strokeLinecap='round'
                    strokeLinejoin='round'
                  />
                </svg>
              }
              label='profile'
              icon={
                <svg
                  width='20'
                  height='20'
                  viewBox='0 0 20 20'
                  fill='none'
                  xmlns='http://www.w3.org/2000/svg'
                >
                  <path
                    d='M11 11C13.2091 11 15 9.20914 15 7C15 4.79086 13.2091 3 11 3C8.79086 3 7 4.79086 7 7C7 9.20914 8.79086 11 11 11Z'
                    stroke='#1E1E1E'
                    strokeOpacity='0.6'
                    strokeWidth='1.5'
                    strokeLinecap='round'
                    strokeLinejoin='round'
                  />
                  <path
                    d='M17 17C17 15.4087 16.3679 13.8826 15.2426 12.7574C14.1174 11.6321 12.5913 11 11 11C9.4087 11 7.88258 11.6321 6.75736 12.7574C5.63214 13.8826 5 15.4087 5 17'
                    stroke='#1E1E1E'
                    strokeOpacity='0.6'
                    strokeWidth='1.5'
                    strokeLinecap='round'
                    strokeLinejoin='round'
                  />
                </svg>
              }
            />
          )}

          {isClient && role !== "Student" && (
            <NavItem
              href={`${
                isClient && role === "Teacher"
                  ? "/teachers"
                  : role === "Admin"
                  ? "/admins"
                  : ""
              }/subjects`}
              activeClass={activeClass}
              setActiveClass={setActiveClass}
              activeIcon={
                <svg
                  width='16'
                  height='18'
                  viewBox='0 0 16 18'
                  className='h-4 w-4'
                  fill='none'
                  xmlns='http://www.w3.org/2000/svg'
                >
                  <path
                    d='M2.67733 14.4H16V1.8C16 1.32261 15.8127 0.864773 15.4793 0.527208C15.1459 0.189642 14.6937 0 14.2222 0H2.66667C1.59467 0 0 0.7191 0 2.7V15.3C0 17.2809 1.59467 18 2.66667 18H16V16.2H2.67733C2.26667 16.1892 1.77778 16.0245 1.77778 15.3C1.77778 14.5755 2.26667 14.4108 2.67733 14.4ZM4.44444 3.6H12.4444V5.4H4.44444V3.6Z'
                    fill='#FDFDFD'
                  />
                </svg>
              }
              label='subjects'
              icon={
                <svg
                  width='16'
                  height='18'
                  viewBox='0 0 16 18'
                  className='h-4 w-4'
                  fill='none'
                  xmlns='http://www.w3.org/2000/svg'
                >
                  <path
                    d='M2.67733 14.4H16V1.8C16 1.32261 15.8127 0.864773 15.4793 0.527208C15.1459 0.189642 14.6937 0 14.2222 0H2.66667C1.59467 0 0 0.7191 0 2.7V15.3C0 17.2809 1.59467 18 2.66667 18H16V16.2H2.67733C2.26667 16.1892 1.77778 16.0245 1.77778 15.3C1.77778 14.5755 2.26667 14.4108 2.67733 14.4ZM4.44444 3.6H12.4444V5.4H4.44444V3.6Z'
                    fill='#1E1E1E90'
                  />
                </svg>
              }
            />
          )}
        </ul>

        <div className='dashboard_logout'>
          <span
            className='btn-logout cursor-pointer'
            onClick={() => {
              handleOpen && handleOpen();
            }}
          >
            <Logout className='sign-out' />
            <span>Log out</span>
          </span>
        </div>
      </div>
    </div>
  );
};

const NavItem: React.FC<NavItemProps> = ({
  href,
  activeClass,
  setActiveClass,
  label,
  icon,
  activeIcon,
}) => {
  return (
    <li className='pr-8 font-roboto'>
      <Link
        href={href}
        className={`px-5 py-1.5 space-x-3 flex items-center ${
          activeClass === label
            ? "bg-primary rounded-tr-2xl rounded-br-2xl"
            : ""
        }`}
        onClick={() => setActiveClass(label)}
      >
        <div
          className={` flex items-center justify-center rounded-lg p-1.5 md:p-2 min-w-[40px] min-h-[40px]`}
        >
          {activeClass === label ? activeIcon : icon}
        </div>
        <span
          className={`links_name capitalize text-base md:text-lg ${
            activeClass !== label ? "text-subtext/60" : "text-white font-medium"
          }`}
        >
          {label}
        </span>
      </Link>
      {/* <span className='toolkit capitalize'>{label}</span> */}
    </li>
  );
};

export default SideNav;
